<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Maroc</title>
	<meta name="author" content="Alison & Fab">
	<meta name="copyright" content="Copyright 2019 Alison & Fab">
	<meta name="description" content="Voyage au Maroc du 24 avril au 1 mai 2025">
	<meta name="keywords" content="carnet de route, Maroc">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<link rel="stylesheet" type="text/css" href="css/styles.css?v=1.1" />
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.jplayer.min.js"></script>
	<script type="text/javascript" src="js/jplayer.playlist.min.js"></script>

	<!-- jDocumentary modules refactorisés -->
	<script type="text/javascript" src="js/modules/core.js"></script>
	<script type="text/javascript" src="js/modules/scenario.js"></script>
	<script type="text/javascript" src="js/modules/player.js"></script>
	<script type="text/javascript" src="js/modules/layer.js"></script>
	<script type="text/javascript" src="js/modules/page.js"></script>
	<script type="text/javascript" src="js/modules/fullscreen.js"></script>
	<script type="text/javascript" src="js/modules/sound-manager.js"></script>
	<script type="text/javascript" src="js/modules/ui-components.js"></script>
	<script type="text/javascript" src="js/modules/youtube-integration.js"></script>

	<link rel="shortcut icon" href="/favicon.ico">

	<!-- Suppression des warnings console (optionnel) -->
	<script>
		// Masquer les warnings Google Maps non critiques
		var originalConsoleWarn = console.warn;
		console.warn = function (message) {
			if (typeof message === 'string' && message.includes('Google Maps JavaScript API')) {
				return; // Ignorer les warnings Google Maps
			}
			originalConsoleWarn.apply(console, arguments);
		};
	</script>

	<!-- Chargement asynchrone de Google Maps -->
	<script>
		function initGoogleMaps() {
			// Google Maps est maintenant chargé de manière asynchrone
			console.log("✅ Google Maps chargé avec succès");
		}

		// Gestion des erreurs de chargement Google Maps
		window.gm_authFailure = function () {
			console.error("❌ Erreur d'authentification Google Maps");
		};
	</script>
	<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbZ2VUbWdm4zpjVBQOZYRqoW7wYY47kY4&callback=initGoogleMaps&loading=async">
		</script>

	<script type="text/javascript">
		$(function () {
			$.support.cors = false;
			$.getJSON('MyScenario.json', function (jd) {
				$("body").jDocumentary({
					scenario: jd,
					enableShare: false,
					analyticsTracker: "UA-31064924-1",
					analyticsEventName: "Alison-et-fab"
				});
			}).fail(function () {
				console.error("❌ Erreur de chargement du scénario");
			});
		});
	</script>
</head>

<body>
	<div style="margin:40px">
		Voyage au Maroc du 24 avril au 1 mai 2025
	</div>
	<div id="jukebox" role="application" class="jdocumentary-persistant">
		<div id="mp3Reader"></div>
		<div class="jp-playlist" style="display: none;">
			<ul>
				<li></li>
			</ul>
		</div>
	</div>

	<!-- Google Analytics avec méthode moderne -->
	<script>
		(function () {
			var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
		})();

		try {
			var pageTracker = _gat._getTracker("UA-31064924-1");
			pageTracker._trackPageview();
		} catch (err) { }
	</script>

</body>

</html>